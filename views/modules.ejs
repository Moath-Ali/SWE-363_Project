<!DOCTYPE html>
<html lang="en">

<head>
  <%- include("partials/head.ejs") %>
    <link rel="stylesheet" href="/css/modulesStyle.css">
    <link rel="stylesheet" href="/css/loader.css">
    <link rel="stylesheet" href="/css/elements.css">
    <link rel="stylesheet" href="css/index.css">
    <link href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet"
      type='text/css'>
    <title>Modules</title>
</head>

<body>



  <header class="header mf1-position-relative js-header ">
    <div class="header__container mf1-container mf1-max-width-lg">
      <div class="header__logo">
        <a class="header__logo" href="/">
          DevPath
        </a>
      </div>

      <div class="mf1-btn mf1-btn--subtle header__trigger js-header__trigger" aria-label="Toggle menu"
        aria-expanded="false" aria-controls="header-nav">
        <i class="header__trigger-icon" aria-hidden="true"></i>
        <span>Menu</span>
      </div>


      <nav class="header__nav js-header__nav" id="header-nav" role="navigation" aria-label="Main">

        <div class="header__nav-inner">

          <ul class="header__list">
            <li class="header__item"><a href="/" class="header__link">Home</a></li>
            <li class="header__item"><a href="modules" class="header__link">Paths</a></li>
            <li class="header__item"><a href="quests" class="header__link">Quests</a></li>
            <li class="header__item"><a href="quiz-start" class="header__link">Quiz</a></li>
            <li class="header__item"><a href="about-us" class="header__link">About us</a></li>
            <li class="header__item"><a href="contact-us" class="header__link">Contact us</a></li>
            <li class="header__item header__item--divider" aria-hidden="true"></li>
            <% if(user!==undefined){%>

              <div class="user-tag" onclick="display()">

                <i class="fa fa-user icon "></i>
                <span class="name-of-user"><%-user%></span>
                <div class="log-out-card" id="logout-card">
                  <li class="header__item out-btn"><a href="logout" class="header__nav-btn mf1-btn mf1-btn--primary">Log
                      out</a></li>
                </div>
                <div class="log-out-btn-mob " id="logout-card">
                  <li class="header__item out-btn"><a href="logout" class="header__nav-btn mf1-btn mf1-btn--primary">Log
                      out</a></li>
                </div>

              </div>


              <%}%>
                <%if(user===undefined){%>
                  <li class="header__item"><a href="register" class="header__nav-btn mf1-btn mf1-btn--primary">Log
                      in</a></li>

                  <%}%>

          </ul>
        </div>
      </nav>

    </div>
  </header>
  <div class="log-out-card" id="user-tag">
    <div class="log-out-btn">
      <li class="header__item out-btn"><a href="logout" class="header__nav-btn mf1-btn mf1-btn--primary">Log out</a>
      </li>
    </div>
  </div>




  <%- include("partials/loader.ejs") %>

    <!-- you 1 object of data in this page(path), you can acsess the following inside said variable
    please look at ejs syntax to better understand the below code -->
    <!-- <ul>
        <% for(path of listOfPaths){%>
            <li><%= path.pathName %></li>
            <section><%- path.intro %></section>
            <section><%- path.article %></section>
        <%  }%> 
    </ul> -->

    <section class="articles-v3">

      <div class="cd-container cd-max-width-adaptive-lg">
        <ul class="articles-v3__list-grid">
          <% for(path of listOfPaths){%>
            <li class="articles-v3__item-grid">
              <a href=<%=`/modules/${path.pathName}` %> class="articles-v3__img-wrapper">
                <img src=<%=path.imgSrc %> alt="data-analytics image">
              </a>

              <div>
                <h2 class="articles-v3__headline"><a href=<%=`/modules/${path.pathName}` %>><%=`${path.pathName}` %></a>
                </h2>

                <p class="articles-v3__description">
                  <%= path.intro %>
                </p>

                <div class="articles-v3__author">
                  <a href="/goToAuther" class="articles-v3__author-img">
                    <img src="/Resources/user_icon.jpg" alt="Author picture">
                  </a>
                  <div class="articles-v3__author-info">
                    <p><a href="#0" class="articles-v3__author-name" rel="author">Muath Alabeedi</a></p>
                    <p class="articles-v3__date"><time>Oct 4, 2050</time>, &mdash; 5 min read</p>
                  </div>
                </div>
              </div>
            </li>
            <% }%>
        </ul>
      </div>

      <% if (user==='admin' ) {%>
        <div class="admin_form">
          <form method="POST" action='/insertpath'>
            <h2 style="color: aliceblue;">Add Path Name</h2>
            <textarea name='name' id="pathName" cols="50" placeholder="Enter the path name" rows="50"
              style="display: block;"></textarea>
            <br>

            <h2 style="color: aliceblue;">Add Path Intro</h2>
            <textarea name='intro' id="pathIntro" cols="50" placeholder="Enter the introduction for new module"
              rows="50" style="display: block;"></textarea>
            <br>

            <h2 style="color: aliceblue;">Add Path Article</h2>
            <textarea name='article' id="pathArt" cols="50" placeholder="Enter the article for the new module" rows="50"
              style="display: block;"></textarea>
            <br>

            <h2 style="color: aliceblue;">Add Image link</h2>
            <textarea name='img' id="pathImg" cols="50" placeholder="Enter the image link for the new module" rows="50"
              style="display: block;"></textarea>
            <br>

            <button type="submit" class='submit' style="background-color: gray;">Add new module</button>
          </form>
        </div>
        <%}%>
    </section>
</body>
<script src="js/index.js"></script>
<script type="module" src="/js/button_Handlers.js"></script>

</html>