<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("partials/head.ejs") %>
    <link rel="stylesheet" href="/css/modulesStyle.css">
    <link rel="stylesheet" href="/css/loader.css">
    <link rel="stylesheet" href="/css/elements.css">

    <title>Modules</title>
</head>
<body>
    <%- include("partials/loader.ejs") %>

    <!-- you 1 object of data in this page(path), you can acsess the following inside said variable
    please look at ejs syntax to better understand the below code -->
    <!-- <ul>
        <% for(path of listOfPaths){%>
            <li><%= path.pathName %></li>
            <section><%- path.intro %></section>
            <section><%- path.article %></section>
        <%  }%> 
    </ul> -->

    <section class="articles-v3">

        <div class="cd-container cd-max-width-adaptive-lg">
          <ul class="articles-v3__list-grid">
            <% for(path of listOfPaths){%>
                <li class="articles-v3__item-grid">
                    <a href=<%=`/modules/${path.pathName}` %> class="articles-v3__img-wrapper">
                      <img src=<%= path.imgSrc %> alt="data-analytics image">
                    </a>
              
                    <div>
                      <h2 class="articles-v3__headline"><a href=<%=`/modules/${path.pathName}` %>><%=`${path.pathName}` %></a></h2>
                      
                      <p class="articles-v3__description"> <%= path.intro %></p>
              
                      <div class="articles-v3__author">
                        <a href="/goToAuther" class="articles-v3__author-img">
                          <img src="/Resources/user_icon.jpg" alt="Author picture">
                        </a>
                        <div class="articles-v3__author-info">
                          <p><a href="#0" class="articles-v3__author-name" rel="author">Muath Alabeedi</a></p>
                          <p class="articles-v3__date"><time>Oct 4, 2050</time>, &mdash; 5 min read</p>
                        </div>
                      </div>
                    </div>
                  </li>
            <%  }%> 

          </ul>
        </div>

        ## form for adding a new module to the database
        <div>
          <form method="POST" action = '/insertpath'>
            <h2 style="color: aliceblue;">Add Path Name</h2>
            <textarea name = 'name' id="pathName" cols="50" placeholder="Enter the path name" rows="50" style="display: block;"></textarea>
            <br>
 
            <h2 style="color: aliceblue;">Add Path Intro</h2>
            <textarea name = 'intro' id="pathIntro" cols="50" placeholder="Enter the introduction for new module" rows="50" style="display: block;"></textarea>
            <br>

           <h2 style="color: aliceblue;">Add Path Article</h2>
           <textarea name = 'article' id="pathArt" cols="50" placeholder="Enter the article for the new module" rows="50" style="display: block;"></textarea>
           <br>

           <h2 style="color: aliceblue;">Add Image link</h2>
           <textarea  name = 'img' id="pathImg" cols="50" placeholder="Enter the image link for the new module" rows="50" style="display: block;"></textarea>
           <br>

            <button type="submit" class='submit' style="background-color: gray;">Add new module</button>
          </form>
        </div>
      </section>
</body>
<script type="module" src="/js/button_Handlers.js"></script>
</html>